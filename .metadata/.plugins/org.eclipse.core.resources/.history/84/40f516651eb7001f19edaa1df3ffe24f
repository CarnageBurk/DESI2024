<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>DESI - 2024 Buscador de Ciudad</span></title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.4.1/js/bootstrap-datepicker.min.js"></script>

</head>
<body>
	<nav class="navbar navbar-expand-lg bg-body-tertiary">
				  <div class="container-fluid">
				    <a class="navbar-brand" href="/">DESI - 2024</a>
				    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
				      <span class="navbar-toggler-icon"></span>
				    </button>
				    <div class="collapse navbar-collapse" id="navbarSupportedContent">
				      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
				        <li class="nav-item">
				          <a class="nav-link" aria-current="page" href="/">Home</a>
				        </li>
				        <li class="nav-item">
				          <a class="nav-link" href="caminosBuscar">Buscar Caminos</a>
				        </li>
						<li class="nav-item">
				          <a class="nav-link" href="caminosBuscar">Buscar Caminos</a>
				        </li>
				        <li class="nav-item dropdown">
				          <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
				            Ciudades
				          </a>
				          <ul class="dropdown-menu">
				            <li><a class="dropdown-item" href="ciudadesBuscar">Buscar Ciudades</a></li>
							<li><hr class="dropdown-divider"></li>
				            <li><a class="dropdown-item" href="ciudadEditar">Registrar Ciudad</a></li>
				          </ul>
				        </li>
				        <li class="nav-item">
				          <a class="nav-link disabled" aria-disabled="true">Disabled</a>
				        </li>
						
				      </ul>
					  
				    </div>
					<hr>
				  </div>
				   
			</nav>

	<div class="starter-template">
        <h2>
            <span th:text="#{ciudad.buscar.titulo}"></span>
        </h2>
    </div>
    
<form  th:action="@{/ciudadesBuscar}" th:object="${formBean}" method="post">
	<p th:each="err : ${#fields.errors('global')}" th:text="${err}" class="error" />
	<table border="1" style="align-self: center;">
		
        <tr>
            <td><label th:text="#{ciudad.nombre}" /></td>
            <td><input type="text" th:field="*{nombre}" /></td>
            
        </tr>
       
        
         <tr>
            <td><label th:text="#{ciudad.provincia}" /></td>
            <td>
		        <select th:field="*{provinciaSeleccionada}">
				  <option th:value="null" text="Seleccione una opciÃ³n"></option>
				  <option th:each="p : ${allProvincias}" 
				          th:value="${p.id}" 
				          th:text="${p.nombre}"></option>
				</select>
			</td>
		</tr>
  </table>
  <table class="botones">

      <tr>
	      <td><input type="submit" name="action" value="Buscar" /></td>
	      <td><input type="submit" name="action" value="Cancelar" /></td>
	       <td><input type="submit" name="action" value="Registrar" /></td>
      </tr>
        
    </table>
    
    
    <table  class="resultados" border="0" style="align-self: center;">
	    <thead>
	      <tr>
	        <th ><label th:text="#{ciudad.nombre}" /></th>
	        <th ><label th:text="#{ciudad.provincia}" /></th>
	        <th ></th>
	        <th ></th>
	      </tr>
	    </thead>
	    <tbody>
	      <tr th:each="p : ${resultados}">
			    <td th:text="${{p.nombre}}"></td>
		        <td th:text="${{p.provincia.nombre}}" ></td>
		        <td>
                    <a th:href="@{/ciudadEditar/{id}(id=${p.id})}" class="btn btn-primary">
                        editar
                    </a>
                </td>
                <td>
                    <a th:href="@{/ciudadEditar/delete/{id}(id=${p.id})}" class="btn btn-primary">
                        eliminar
                    </a>
                </td>
		        
	      </tr>
	    </tbody>
    </table>
    
                            
</form>


</body>
</html>	